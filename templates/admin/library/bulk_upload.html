{% extends "admin/change_form.html" %}
{% load i18n %}

{% block content %}
<div id="content-main">
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="module aligned">
            <h2>批量上传图书资源</h2>
            <div class="form-row">
                {{ form.zip_file.label_tag }}
                {{ form.zip_file }}
                <div class="help">{{ form.zip_file.help_text }}</div>
            </div>
            <div class="form-row">
                {{ form.overwrite.label_tag }}
                {{ form.overwrite }}
                <div class="help">{{ form.overwrite.help_text }}</div>
            </div>
        </div>
        <div class="submit-row">
            <input type="submit" value="上传并处理" class="default">
            <a href=".." class="button">取消</a>
        </div>
    </form>

    <div class="module" style="margin-top: 20px;">
        <h3>ZIP包结构说明</h3>
        <pre>
图书资源包.zip
├── 图书名称1/           # 一级目录为图书名称
│   ├── 封面.jpg        # 封面图片(支持jpg/png/webp)
│   ├── 图书信息.json    # 可选，图书元数据
│   └── 轮播/           # 轮播图片目录
│       ├── 图片1.jpg
│       └── 图片2.jpg
└── 图书名称2/
    ├── 封面.png
    └── 轮播/
        └── ...
        </pre>
        <p>图书信息.json 示例:</p>
        <pre>
{
    "author": "作者名称",
    "description": "图书描述",
    "keywords": "关键词1,关键词2",
    "recommended_age": 6,
    "copies_count": 3
}
        </pre>
    </div>
</div>
{% endblock %}
